{"version":3,"file":"main.js","mappings":"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","sources":["webpack://projectify/./src/scripts/data.js","webpack://projectify/./src/index.js","webpack://projectify/./src/scripts/chart.js"],"sourcesContent":["function dupData(data) {\n  return JSON.parse(JSON.stringify(data));\n}\n\nexport default dupData;\n","// import \"./scripts/chartrf.js\";\n// import \"./scripts/tradeselect.js\";\nimport Data from \"./scripts/office.json\";\nimport Data2 from \"./scripts/office.json\";\nimport Chart from \"./scripts/chart.js\";\nimport dupData from \"./scripts/data.js\";\n// import { excludeTrade, includeTrade } from \"./scripts/tradeselect.js\";\n\nconst modal = document.getElementById(\"user-instructions\");\nconst button = document.getElementById(\"modal-button\");\nconst closeButton = document.getElementById(\"close-button\");\n\nbutton.onclick = function () {\n  modal.style.display = \"block\";\n};\n\ncloseButton.onclick = function () {\n  modal.style.display = \"none\";\n};\n\nwindow.onclick = function (event) {\n  if (event.target === modal) {\n    modal.style.display = \"none\";\n  }\n};\n\n//creating an empty chart\nlet dup = dupData(Data);\n\nconst width = 1500;\nconst height = 760;\nconst margin = { top: 50, bottom: 50, left: 50, right: 50 };\n\nlet chart = new Chart(width, height, margin);\nchart.createChart(dup);\ndup = dupData(Data);\n\n// user input event listener / set input variables\nlet form = document.getElementById(\"user-input\");\nif (form) form.addEventListener(\"submit\", createBudget);\nlet squareFootage;\nlet budget;\n\n// user input event handler\nfunction createBudget(e) {\n  e.preventDefault();\n  squareFootage = document.getElementById(\"sf\").value;\n  budget = document.getElementById(\"budget\").value;\n  resetTrades();\n  chart.deleteChart();\n  dup = dupData(Data);\n  chart.createChart(dup, squareFootage);\n  chart.getTotal(dup, budget);\n}\n\n//user selection event listener - exclude x-Axis category\nconst tradesExcludedDiv = document.getElementById(\"trades-excluded\");\nconst tradesSelectedDiv = document.getElementById(\"trade-selector\");\nlet excluded = [];\nif (tradesSelectedDiv) {\n  tradesSelectedDiv.addEventListener(\"click\", excludeTrade);\n}\nfunction excludeTrade(e) {\n  let clicked = e.target;\n  if (clicked.className === \"trade\") {\n    tradesExcludedDiv.appendChild(e.target);\n    for (let i = 0; i < dup.length; i++) {\n      if (dup[i].trade === clicked.id) {\n        excluded.push(dup[i]);\n        dup = dup.slice(0, i).concat(dup.slice(i + 1));\n      }\n    }\n    chart.deleteChart();\n    chart.updateChart(dup);\n    chart.getTotal(dup, budget);\n  }\n}\n\n//user selection event listener - include x-Axis category\nlet tradesExcluded = document.getElementById(\"trades-excluded\");\nif (tradesExcluded) {\n  tradesExcluded.addEventListener(\"click\", includeTrade);\n}\nfunction includeTrade(e) {\n  let clicked = e.target;\n  if (clicked.className === \"trade\") {\n    tradesSelectedDiv.appendChild(e.target);\n    for (let i = 0; i < excluded.length; i++) {\n      if (excluded[i].trade === clicked.id) {\n        dup.push(excluded[i]);\n        excluded = excluded.slice(0, i).concat(excluded.slice(i + 1));\n        console.log(excluded);\n        console.log(dup);\n      }\n    }\n    chart.deleteChart();\n    chart.updateChart(dup);\n    chart.getTotal(dup, budget);\n  }\n}\n\nfunction resetTrades() {\n  for (let i = 0; i < excluded.length; i++) {\n    let move = document.getElementById(excluded[i].trade);\n    tradesSelectedDiv.appendChild(move);\n  }\n  excluded = [];\n}\n\nlet reset = document.getElementById(\"reset-button\");\nif (reset) {\n  reset.addEventListener(\"click\", resetChart);\n}\n\nfunction resetChart(e) {\n  chart.deleteChart();\n  dup = dupData(Data);\n  chart.createChart(dup);\n  resetTrades();\n}\n","import Data from \"./office.json\";\nimport Data2 from \"./office.json\";\nimport dupData from \"./data.js\";\n// const width = 800;\n// const height = 750;\n// const margin = { top: 50, bottom: 50, left: 50, right: 50 };\n\nclass Chart {\n  constructor(width, height, margin) {\n    this.width = width;\n    this.height = height;\n    this.margin = margin;\n  }\n\n  createChart(data, sf = 0) {\n    for (let i = 0; i < data.length; i++) {\n      data[i].rate *= sf;\n    }\n\n    this.updateChart(data);\n  }\n\n  updateChart(data) {\n    this.svg = d3\n      .select(\"#main-chart\")\n      .append(\"svg\")\n      .attr(\"height\", this.height - this.margin.top - this.margin.bottom)\n      .attr(\"width\", this.width)\n      .attr(\"viewBox\", [0, 0, this.width, this.height]);\n\n    this.x = d3\n      .scaleBand()\n      .domain(d3.range(data.length))\n      .range([this.margin.left, this.width - this.margin.right])\n      .padding(0.1);\n\n    this.y = d3\n      .scaleLinear()\n      .domain([0, d3.max(data.map((e) => e.rate))])\n      .range([this.height - this.margin.bottom, this.margin.top]);\n\n    this.tooltip = d3\n      .select(\"#tooltip\")\n      .style(\"opacity\", 0)\n      .attr(\"class\", \"tooltip\")\n      .style(\"background-color\", \"white\")\n      .style(\"border-radius\", \"5px\")\n      .style(\"position\", \"absolute\");\n\n    this.svg\n      .append(\"g\")\n      .attr(\"fill\", \"royalblue\")\n      .selectAll(\"rect\")\n      .data(data)\n      .join(\"rect\")\n      .attr(\"x\", (d, i) => this.x(i))\n      .attr(\"y\", (d) => this.y(d.rate))\n      .attr(\"height\", (d) => this.y(0) - this.y(d.rate))\n      .attr(\"width\", this.x.bandwidth())\n      .attr(\"class\", \"bar\")\n      .on(\"mousemove\", (d, i) => {\n        this.tooltip\n          .style(\"opacity\", 0.8)\n          .html(`$ ${i.rate}`)\n          .style(\"left\", `${d.x + 15}px`)\n          .style(\"top\", `${d.y + 15}px`)\n          .style(\"border\", \"2px solid\")\n          .style(\"font-size\", \"22px\");\n        // .style(\"left\", `${d3.pointer(d)[0]}px`)\n        // .style(\"top\", `${d3.pointer(d)[1]}px`);\n        console.log(d);\n      })\n      .on(\"mouseleave\", (d) => {\n        this.tooltip.style(\"opacity\", 0);\n      });\n    // .on(\"mousemove\", function (d) {\n    //   d3.select(\"#tooltip\");\n    // });\n\n    function xAxis(g) {\n      g.attr(\"transform\", `translate(0, ${this.height - this.margin.bottom})`)\n        .call(d3.axisBottom(this.x).tickFormat((i) => data[i].trade))\n        .attr(\"font-size\", \"16px\");\n    }\n\n    function yAxis(g) {\n      g.attr(\"transform\", `translate(${this.margin.left}, 0)`)\n        .call(d3.axisLeft(this.y).ticks(null, data.format))\n        .attr(\"font-size\", \"18px\");\n    }\n\n    this.svg.append(\"g\").call(xAxis.bind(this));\n    this.svg.append(\"g\").call(yAxis.bind(this));\n    this.svg.node();\n    console.log(this.svg.selectAll(\"rect\"));\n  }\n\n  deleteChart() {\n    let mainChartDiv = document.getElementById(\"main-chart\");\n    mainChartDiv.innerHTML = \"\";\n  }\n\n  getTotal(data, budget) {\n    const totaldiv = document.getElementById(\"total-value\");\n    const budgetdiv = document.getElementById(\"budget-value\");\n    const deltadiv = document.getElementById(\"delta-value\");\n    let total = 0;\n    for (let i = 0; i < data.length; i++) {\n      total += data[i].rate;\n    }\n\n    const numFor = Intl.NumberFormat(\"en-US\");\n    const newTotal = numFor.format(total);\n    const newBudget = numFor.format(budget);\n    const newDelta = numFor.format(budget - total);\n    totaldiv.innerHTML = `$${newTotal}`;\n    budgetdiv.innerHTML = `$${newBudget}`;\n    deltadiv.innerHTML = `$${newDelta}`;\n\n    const deltaContainer = document.getElementById(\"delta-display-container\");\n    if (budget - total < 0) {\n      deltaContainer.style.borderBottomColor = \"red\";\n    } else {\n      deltaContainer.style.borderBottomColor = \"green\";\n    }\n  }\n}\n\nexport default Chart;\n"],"names":["data","JSON","parse","stringify","modal","document","getElementById","button","closeButton","onclick","style","display","window","event","target","dup","dupData","Data","chart","constructor","width","height","margin","this","createChart","sf","i","length","rate","updateChart","svg","d3","select","append","attr","top","bottom","x","scaleBand","domain","range","left","right","padding","y","scaleLinear","max","map","e","tooltip","selectAll","join","d","bandwidth","on","html","console","log","call","g","axisBottom","tickFormat","trade","bind","axisLeft","ticks","format","node","deleteChart","innerHTML","getTotal","budget","totaldiv","budgetdiv","deltadiv","total","numFor","Intl","NumberFormat","newTotal","newBudget","newDelta","borderBottomColor","squareFootage","form","addEventListener","preventDefault","value","resetTrades","tradesExcludedDiv","tradesSelectedDiv","excluded","clicked","className","appendChild","id","push","slice","concat","tradesExcluded","move","reset"],"sourceRoot":""}