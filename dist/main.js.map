{"version":3,"file":"main.js","mappings":"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","sources":["webpack://projectify/./src/scripts/data.js","webpack://projectify/./src/index.js","webpack://projectify/./src/scripts/chart.js"],"sourcesContent":["function dupData(data) {\n  return JSON.parse(JSON.stringify(data));\n}\n\nexport default dupData;\n","// import \"./scripts/chartrf.js\";\n// import \"./scripts/tradeselect.js\";\nimport Data from \"./scripts/office.json\";\nimport Data2 from \"./scripts/office.json\";\nimport Chart from \"./scripts/chart.js\";\nimport dupData from \"./scripts/data.js\";\n// import { excludeTrade, includeTrade } from \"./scripts/tradeselect.js\";\n\nconst modal = document.getElementById(\"user-instructions\");\nconst button = document.getElementById(\"modal-button\");\nconst closeButton = document.getElementById(\"close-button\");\n\nbutton.onclick = function () {\n  modal.style.display = \"block\";\n};\n\ncloseButton.onclick = function () {\n  modal.style.display = \"none\";\n};\n\nwindow.onclick = function (event) {\n  if (event.target === modal) {\n    modal.style.display = \"none\";\n  }\n};\n\n//creating an empty chart\nlet dup = dupData(Data);\n\nconst width = 1500;\nconst height = 760;\nconst margin = { top: 50, bottom: 50, left: 50, right: 50 };\n\nlet chart = new Chart(width, height, margin);\nchart.createChart(dup);\ndup = dupData(Data);\n\n// user input event listener / set input variables\nlet form = document.getElementById(\"user-input\");\nif (form) form.addEventListener(\"submit\", createBudget);\nlet squareFootage;\nlet budget;\n\n// user input event handler\nfunction createBudget(e) {\n  e.preventDefault();\n  squareFootage = document.getElementById(\"sf\").value;\n  budget = document.getElementById(\"budget\").value;\n  resetTrades();\n  chart.deleteChart();\n  dup = dupData(Data);\n  chart.createChart(dup, squareFootage);\n  chart.getTotal(dup, budget);\n}\n\n//user selection event listener - exclude x-Axis category\nconst tradesExcludedDiv = document.getElementById(\"trades-excluded\");\nconst tradesSelectedDiv = document.getElementById(\"trade-selector\");\nlet excluded = [];\nif (tradesSelectedDiv) {\n  tradesSelectedDiv.addEventListener(\"click\", excludeTrade);\n}\nfunction excludeTrade(e) {\n  let clicked = e.target;\n  if (clicked.className === \"trade\") {\n    tradesExcludedDiv.appendChild(e.target);\n    for (let i = 0; i < dup.length; i++) {\n      if (dup[i].trade === clicked.id) {\n        excluded.push(dup[i]);\n        dup = dup.slice(0, i).concat(dup.slice(i + 1));\n      }\n    }\n    chart.deleteChart();\n    chart.updateChart(dup);\n    chart.getTotal(dup, budget);\n  }\n}\n\n//user selection event listener - include x-Axis category\nlet tradesExcluded = document.getElementById(\"trades-excluded\");\nif (tradesExcluded) {\n  tradesExcluded.addEventListener(\"click\", includeTrade);\n}\nfunction includeTrade(e) {\n  let clicked = e.target;\n  if (clicked.className === \"trade\") {\n    tradesSelectedDiv.appendChild(e.target);\n    for (let i = 0; i < excluded.length; i++) {\n      if (excluded[i].trade === clicked.id) {\n        dup.push(excluded[i]);\n        excluded = excluded.slice(0, i).concat(excluded.slice(i + 1));\n        console.log(excluded);\n        console.log(dup);\n      }\n    }\n    chart.deleteChart();\n    chart.updateChart(dup);\n    chart.getTotal(dup, budget);\n  }\n}\n\nfunction resetTrades() {\n  for (let i = 0; i < excluded.length; i++) {\n    let move = document.getElementById(excluded[i].trade);\n    tradesSelectedDiv.appendChild(move);\n  }\n  excluded = [];\n}\n\nlet reset = document.getElementById(\"reset-button\");\nif (reset) {\n  reset.addEventListener(\"click\", resetChart);\n}\n\nfunction resetChart(e) {\n  chart.deleteChart();\n  dup = dupData(Data);\n  chart.createChart(dup);\n  resetTrades();\n}\n","import Data from \"./office.json\";\nimport Data2 from \"./office.json\";\nimport dupData from \"./data.js\";\n// const width = 800;\n// const height = 750;\n// const margin = { top: 50, bottom: 50, left: 50, right: 50 };\n\nclass Chart {\n  constructor(width, height, margin) {\n    this.width = width;\n    this.height = height;\n    this.margin = margin;\n  }\n\n  createChart(data, sf = 0) {\n    for (let i = 0; i < data.length; i++) {\n      data[i].rate *= sf;\n    }\n\n    this.updateChart(data);\n  }\n\n  updateChart(data) {\n    const numFor = Intl.NumberFormat(\"en-US\");\n    this.svg = d3\n      .select(\"#main-chart\")\n      .append(\"svg\")\n      .attr(\"height\", this.height - this.margin.top - this.margin.bottom)\n      .attr(\"width\", this.width)\n      .attr(\"viewBox\", [0, 0, this.width, this.height]);\n\n    this.x = d3\n      .scaleBand()\n      .domain(d3.range(data.length))\n      .range([this.margin.left, this.width - this.margin.right])\n      .padding(0.1);\n\n    this.y = d3\n      .scaleLinear()\n      .domain([0, d3.max(data.map((e) => e.rate))])\n      .range([this.height - this.margin.bottom, this.margin.top]);\n\n    this.tooltip = d3\n      .select(\"#tooltip\")\n      .style(\"opacity\", 0)\n      .attr(\"class\", \"tooltip\")\n      .style(\"background-color\", \"white\")\n      .style(\"border-radius\", \"5px\")\n      .style(\"position\", \"absolute\");\n\n    this.svg\n      .append(\"g\")\n      .attr(\"fill\", \"royalblue\")\n      .selectAll(\"rect\")\n      .data(data)\n      .join(\"rect\")\n      .attr(\"x\", (d, i) => this.x(i))\n      .attr(\"y\", (d) => this.y(d.rate))\n      .attr(\"height\", (d) => this.y(0) - this.y(d.rate))\n      .attr(\"width\", this.x.bandwidth())\n      .attr(\"class\", \"bar\")\n      .on(\"mousemove\", (d, i) => {\n        this.tooltip\n          .style(\"opacity\", 0.8)\n          .html(\n            `Total: $ ${numFor.format(i.rate)}` +\n              \"</br>\" +\n              `Material: $ ${numFor.format(Math.floor(i.rate * 0.4))}` +\n              \"</br>\" +\n              `Labor: $ ${numFor.format(Math.floor(i.rate * 0.6))}`\n          )\n          .style(\"left\", `${d.x + 15}px`)\n          .style(\"top\", `${d.y + 15}px`)\n          .style(\"border\", \"2px solid\")\n          .style(\"font-size\", \"22px\");\n        // .style(\"left\", `${d3.pointer(d)[0]}px`)\n        // .style(\"top\", `${d3.pointer(d)[1]}px`);\n        console.log(d);\n      })\n      .on(\"mouseleave\", (d) => {\n        this.tooltip.style(\"opacity\", 0);\n      });\n    // .on(\"mousemove\", function (d) {\n    //   d3.select(\"#tooltip\");\n    // });\n\n    function xAxis(g) {\n      g.attr(\"transform\", `translate(0, ${this.height - this.margin.bottom})`)\n        .call(d3.axisBottom(this.x).tickFormat((i) => data[i].trade))\n        .attr(\"font-size\", \"20px\");\n    }\n\n    function yAxis(g) {\n      g.attr(\"transform\", `translate(${this.margin.left}, 0)`)\n        .call(d3.axisLeft(this.y).ticks(null, data.format))\n        .attr(\"font-size\", \"20px\");\n    }\n\n    this.svg.append(\"g\").call(xAxis.bind(this));\n    this.svg.append(\"g\").call(yAxis.bind(this));\n    this.svg.node();\n    console.log(this.svg.selectAll(\"rect\"));\n  }\n\n  deleteChart() {\n    let mainChartDiv = document.getElementById(\"main-chart\");\n    mainChartDiv.innerHTML = \"\";\n  }\n\n  getTotal(data, budget) {\n    const totaldiv = document.getElementById(\"total-value\");\n    const budgetdiv = document.getElementById(\"budget-value\");\n    const deltadiv = document.getElementById(\"delta-value\");\n    let total = 0;\n    for (let i = 0; i < data.length; i++) {\n      total += data[i].rate;\n    }\n\n    const numFor = Intl.NumberFormat(\"en-US\");\n    const newTotal = numFor.format(total);\n    const newBudget = numFor.format(budget);\n    const newDelta = numFor.format(budget - total);\n    totaldiv.innerHTML = `$${newTotal}`;\n    budgetdiv.innerHTML = `$${newBudget}`;\n    deltadiv.innerHTML = `$${newDelta}`;\n\n    const deltaContainer = document.getElementById(\"delta-display-container\");\n    if (budget - total < 0) {\n      deltaContainer.style.borderBottomColor = \"red\";\n    } else {\n      deltaContainer.style.borderBottomColor = \"green\";\n    }\n  }\n}\n\nexport default Chart;\n"],"names":["data","JSON","parse","stringify","modal","document","getElementById","button","closeButton","onclick","style","display","window","event","target","dup","dupData","Data","chart","constructor","width","height","margin","this","createChart","sf","i","length","rate","updateChart","numFor","Intl","NumberFormat","svg","d3","select","append","attr","top","bottom","x","scaleBand","domain","range","left","right","padding","y","scaleLinear","max","map","e","tooltip","selectAll","join","d","bandwidth","on","html","format","Math","floor","console","log","call","g","axisBottom","tickFormat","trade","bind","axisLeft","ticks","node","deleteChart","innerHTML","getTotal","budget","totaldiv","budgetdiv","deltadiv","total","newTotal","newBudget","newDelta","borderBottomColor","squareFootage","form","addEventListener","preventDefault","value","resetTrades","tradesExcludedDiv","tradesSelectedDiv","excluded","clicked","className","appendChild","id","push","slice","concat","tradesExcluded","move","reset"],"sourceRoot":""}