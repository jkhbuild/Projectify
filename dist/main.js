!function(){"use strict";!function(){var t=JSON.parse('[{"trade":"Gen Req","rate":20},{"trade":"Demo","rate":10},{"trade":"Conc","rate":5},{"trade":"Mas","rate":4},{"trade":"Mtls","rate":15},{"trade":"Woods","rate":20},{"trade":"Therm","rate":20},{"trade":"Fins","rate":18},{"trade":"Spec","rate":10},{"trade":"Furn","rate":15},{"trade":"Spec Cnst","rate":2},{"trade":"Conv","rate":25},{"trade":"Mech","rate":14},{"trade":"Plbg","rate":20},{"trade":"Elec","rate":22},{"trade":"FP","rate":2.75}]'),e=function(t){return JSON.parse(JSON.stringify(t))};const a=document.getElementById("user-instructions"),n=document.getElementById("modal-button"),r=document.getElementById("close-button");n.onclick=function(){a.style.display="block"},r.onclick=function(){a.style.display="none"},window.onclick=function(t){t.target===a&&(a.style.display="none")};let i=e(t),d=new class{constructor(t,e,a){this.width=t,this.height=e,this.margin=a}createChart(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let a=0;a<t.length;a++)t[a].rate*=e;this.updateChart(t)}updateChart(t){this.svg=d3.select("#main-chart").append("svg").attr("height",this.height-this.margin.top-this.margin.bottom).attr("width",this.width).attr("viewBox",[0,0,this.width,this.height]),this.x=d3.scaleBand().domain(d3.range(t.length)).range([this.margin.left,this.width-this.margin.right]).padding(.1),this.y=d3.scaleLinear().domain([0,d3.max(t.map((t=>t.rate)))]).range([this.height-this.margin.bottom,this.margin.top]),this.svg.append("g").attr("fill","royalblue").selectAll("rect").data(t).join("rect").attr("x",((t,e)=>this.x(e))).attr("y",(t=>this.y(t.rate))).attr("height",(t=>this.y(0)-this.y(t.rate))).attr("width",this.x.bandwidth()),this.svg.append("g").call(function(e){e.attr("transform",`translate(0, ${this.height-this.margin.bottom})`).call(d3.axisBottom(this.x).tickFormat((e=>t[e].trade))).attr("font-size","16px")}.bind(this)),this.svg.append("g").call(function(e){e.attr("transform",`translate(${this.margin.left}, 0)`).call(d3.axisLeft(this.y).ticks(null,t.format)).attr("font-size","18px")}.bind(this)),this.svg.node()}deleteChart(){document.getElementById("main-chart").innerHTML=""}getTotal(t,e){const a=document.getElementById("total-value"),n=document.getElementById("budget-value"),r=document.getElementById("delta-value");let i=0;for(let e=0;e<t.length;e++)i+=t[e].rate;const d=Intl.NumberFormat("en-US"),l=d.format(i),s=d.format(e),o=d.format(i-e);a.innerHTML=`$${l}`,n.innerHTML=`$${s}`,r.innerHTML=`$${o}`}}(1500,760,{top:50,bottom:50,left:50,right:50});d.createChart(i),i=e(t);let l,s,o=document.getElementById("user-input");o&&o.addEventListener("submit",(function(a){a.preventDefault(),l=document.getElementById("sf").value,s=document.getElementById("budget").value,u(),d.deleteChart(),i=e(t),d.createChart(i,l),d.getTotal(i,s)}));const c=document.getElementById("trades-excluded"),h=document.getElementById("trade-selector");let g=[];h&&h.addEventListener("click",(function(t){let e=t.target;if("trade"===e.className){c.appendChild(t.target);for(let t=0;t<i.length;t++)i[t].trade===e.id&&(g.push(i[t]),i=i.slice(0,t).concat(i.slice(t+1)));d.deleteChart(),d.updateChart(i),d.getTotal(i,s)}}));let m=document.getElementById("trades-excluded");function u(){for(let t=0;t<g.length;t++){let e=document.getElementById(g[t].trade);h.appendChild(e)}g=[]}m&&m.addEventListener("click",(function(t){let e=t.target;if("trade"===e.className){h.appendChild(t.target);for(let t=0;t<g.length;t++)g[t].trade===e.id&&(i.push(g[t]),g=g.slice(0,t).concat(g.slice(t+1)),console.log(g),console.log(i));d.deleteChart(),d.updateChart(i),d.getTotal(i,s)}}));let f=document.getElementById("reset-button");f&&f.addEventListener("click",(function(a){d.deleteChart(),i=e(t),d.createChart(i),u()}))}()}();
//# sourceMappingURL=main.js.map