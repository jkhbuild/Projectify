!function(){"use strict";!function(){var t=JSON.parse('[{"trade":"Gen Req","rate":20},{"trade":"Demo","rate":10},{"trade":"Conc","rate":5},{"trade":"Mas","rate":4},{"trade":"Mtls","rate":15},{"trade":"Woods","rate":20},{"trade":"Therm","rate":20},{"trade":"Fins","rate":18},{"trade":"Spec","rate":10},{"trade":"Furn","rate":15},{"trade":"Spec Cnst","rate":2},{"trade":"Conv","rate":25},{"trade":"Mech","rate":14},{"trade":"Plbg","rate":20},{"trade":"Elec","rate":22},{"trade":"FP","rate":2.75}]'),e=function(t){return JSON.parse(JSON.stringify(t))};let a=e(t),r=new class{constructor(t,e,a){this.width=t,this.height=e,this.margin=a}createChart(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let a=0;a<t.length;a++)t[a].rate*=e;this.updateChart(t)}updateChart(t){this.svg=d3.select("#main-chart").append("svg").attr("height",this.height-this.margin.top-this.margin.bottom).attr("width",this.width).attr("viewBox",[0,0,this.width,this.height]),this.x=d3.scaleBand().domain(d3.range(t.length)).range([this.margin.left,this.width-this.margin.right]).padding(.1),this.y=d3.scaleLinear().domain([0,d3.max(t.map((t=>t.rate)))]).range([this.height-this.margin.bottom,this.margin.top]),this.svg.append("g").attr("fill","royalblue").selectAll("rect").data(t).join("rect").attr("x",((t,e)=>this.x(e))).attr("y",(t=>this.y(t.rate))).attr("height",(t=>this.y(0)-this.y(t.rate))).attr("width",this.x.bandwidth()),this.svg.append("g").call(function(e){e.attr("transform",`translate(0, ${this.height-this.margin.bottom})`).call(d3.axisBottom(this.x).tickFormat((e=>t[e].trade))).attr("font-size","16px")}.bind(this)),this.svg.append("g").call(function(e){e.attr("transform",`translate(${this.margin.left}, 0)`).call(d3.axisLeft(this.y).ticks(null,t.format)).attr("font-size","18px")}.bind(this)),this.svg.node()}deleteChart(){document.getElementById("main-chart").innerHTML=""}getTotal(t){let e=0;for(let a=0;a<t.length;a++)e+=t[a].rate;return e}}(1500,1e3,{top:50,bottom:50,left:50,right:50});r.createChart(a),a=e(t);let i,n=document.getElementById("user-input");n&&n.addEventListener("submit",(function(n){n.preventDefault(),i=document.getElementById("sf").value,document.getElementById("budget").value,o(),r.deleteChart(),a=e(t),r.createChart(a,i)}));const d=document.getElementById("trades-excluded"),s=document.getElementById("trade-selector");let l=[];s&&s.addEventListener("click",(function(t){let e=t.target;if("trade"===e.className){d.appendChild(t.target);for(let t=0;t<a.length;t++)a[t].trade===e.id&&(l.push(a[t]),a=a.slice(0,t).concat(a.slice(t+1)));r.deleteChart(),r.updateChart(a)}}));let h=document.getElementById("trades-excluded");function o(){for(let t=0;t<l.length;t++){let e=document.getElementById(l[t].trade);s.appendChild(e)}l=[]}h&&h.addEventListener("click",(function(t){let e=t.target;if("trade"===e.className){s.appendChild(t.target);for(let t=0;t<l.length;t++)l[t].trade===e.id&&(a.push(l[t]),l=l.slice(0,t).concat(l.slice(t+1)),console.log(l),console.log(a));r.deleteChart(),r.updateChart(a)}}));let c=document.getElementById("reset-button");c&&c.addEventListener("click",(function(i){r.deleteChart(),a=e(t),r.createChart(a),o()}))}()}();
//# sourceMappingURL=main.js.map